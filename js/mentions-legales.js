// ============================================
// 📜 MENTIONS LÉGALES - TRADUCTIONS
// ============================================

// ===== TRADUCTIONS (Exposées globalement) =====
const mentionsTranslations = {
    fr: {
        // Navigation
        nav_home: 'Accueil',
        nav_gallery: 'Galerie',
        nav_exhibitions: 'Expositions',
        nav_about: 'À Propos',
        nav_contact: 'Contact',
        nav_subtitle: 'Artiste Plasticienne',

        // Hero
        legal_title: 'Mentions Légales',
        legal_subtitle: 'Informations légales et protection des droits',

        // Éditeur
        legal_editor_title: 'Éditeur du site',
        legal_editor_activity: 'Activité :',
        legal_editor_activityValue: 'Artiste Plasticienne - Créatrice d\'œuvres d\'art',
        legal_editor_email: 'Email :',
        legal_editor_location: 'Localisation :',
        legal_editor_locationValue: 'France',

        // Hébergement
        legal_hosting_title: 'Hébergement',
        legal_hosting_host: 'Hébergeur :',
        legal_hosting_address: 'Adresse :',

        // Propriété intellectuelle
        legal_ip_title: 'Propriété Intellectuelle',
        legal_ip_text: 'L\'ensemble du contenu de ce site (textes, photographies d\'œuvres, images, logos, vidéos) est la propriété exclusive de Fatema AL Waisi, sauf mention contraire.',
        legal_ip_rights: 'Les œuvres d\'art présentées sont protégées par les droits d\'auteur internationaux.',
        legal_ip_prohibition: 'Toute reproduction, distribution, modification ou utilisation commerciale sans autorisation écrite préalable est strictement interdite.',
        legal_ip_viewing: 'La consultation des œuvres sur ce site est autorisée à des fins personnelles et non commerciales uniquement.',
        legal_ip_contact: 'Pour toute autre utilisation (presse, publication, exposition, reproduction), merci de contacter l\'artiste par email :',

        // Cookies
        legal_cookies_title: 'Cookies et Données Personnelles',
        legal_cookies_text: 'Ce site utilise des cookies techniques strictement nécessaires pour améliorer votre expérience de navigation.',
        legal_cookies_types: 'Types de cookies utilisés :',
        legal_cookies_pref: 'Cookies de préférence de langue',
        legal_cookies_tech: 'Cookies techniques de navigation',
        legal_cookies_notrack: 'Aucun cookie de suivi publicitaire ou analytique n\'est utilisé.',
        legal_cookies_control: 'Vous pouvez contrôler et supprimer les cookies via les paramètres de votre navigateur.',

        // Responsabilité
        legal_liability_title: 'Limitation de Responsabilité',
        legal_liability_text: 'Fatema AL Waisi met tout en œuvre pour fournir des informations précises et à jour. Cependant, elle ne peut garantir l\'exactitude, la précision ou l\'exhaustivité des informations disponibles sur ce site.',
        legal_liability_noguarantee: 'L\'artiste ne pourra être tenue responsable des dommages directs ou indirects résultant de l\'accès au site ou de l\'utilisation des informations qu\'il contient.',

        // Liens externes
        legal_links_title: 'Liens Hypertextes',
        legal_links_text: 'Le site peut contenir des liens vers des sites externes. Fatema AL Waisi n\'exerce aucun contrôle sur ces sites et décline toute responsabilité quant à leur contenu.',

        // Contact
        legal_contact_title: 'Contact',
        legal_contact_question: 'Pour toute question concernant ces mentions légales ou pour exercer vos droits :',

        // Mise à jour
        legal_update: 'Dernière mise à jour :',
        legal_updateDate: 'Janvier 2025',

         // 🔥 NOUVELLES TRADUCTIONS
        legal_editor_name: "Nom :",
        legal_contact_form: "Formulaire :",
        legal_contact_formLink: "Page de contact",
        legal_editor_nameValue: "Fatema AL Waisi", // 🔥 NOUVEAU
    },

    en: {
        // Navigation
        nav_home: 'Home',
        nav_gallery: 'Gallery',
        nav_exhibitions: 'Exhibitions',
        nav_about: 'About',
        nav_contact: 'Contact',
        nav_subtitle: 'Visual Artist',

        // Hero
        legal_title: 'Legal Notice',
        legal_subtitle: 'Legal information and rights protection',

        // Publisher
        legal_editor_title: 'Website Publisher',
        legal_editor_activity: 'Activity:',
        legal_editor_activityValue: 'Visual Artist - Art Creator',
        legal_editor_email: 'Email:',
        legal_editor_location: 'Location:',
        legal_editor_locationValue: 'France',

        // Hosting
        legal_hosting_title: 'Hosting',
        legal_hosting_host: 'Host:',
        legal_hosting_address: 'Address:',

        // Intellectual Property
        legal_ip_title: 'Intellectual Property',
        legal_ip_text: 'All content on this website (texts, artwork photographs, images, logos, videos) is the exclusive property of Fatema AL Waisi, unless otherwise stated.',
        legal_ip_rights: 'The artworks presented are protected by international copyright laws.',
        legal_ip_prohibition: 'Any reproduction, distribution, modification or commercial use without prior written authorization is strictly prohibited.',
        legal_ip_viewing: 'Viewing the artworks on this site is authorized for personal and non-commercial purposes only.',
        legal_ip_contact: 'For any other use (press, publication, exhibition, reproduction), please contact the artist by email:',

        // Cookies
        legal_cookies_title: 'Cookies and Personal Data',
        legal_cookies_text: 'This website uses strictly necessary technical cookies to improve your browsing experience.',
        legal_cookies_types: 'Types of cookies used:',
        legal_cookies_pref: 'Language preference cookies',
        legal_cookies_tech: 'Technical navigation cookies',
        legal_cookies_notrack: 'No advertising or analytical tracking cookies are used.',
        legal_cookies_control: 'You can control and delete cookies through your browser settings.',

        // Liability
        legal_liability_title: 'Limitation of Liability',
        legal_liability_text: 'Fatema AL Waisi makes every effort to provide accurate and up-to-date information. However, she cannot guarantee the accuracy, precision or completeness of the information available on this site.',
        legal_liability_noguarantee: 'The artist cannot be held responsible for direct or indirect damages resulting from access to the site or use of the information it contains.',

        // External Links
        legal_links_title: 'Hyperlinks',
        legal_links_text: 'The site may contain links to external websites. Fatema AL Waisi has no control over these sites and disclaims all responsibility for their content.',

        // Contact
        legal_contact_title: 'Contact',
        legal_contact_question: 'For any questions regarding these legal notices or to exercise your rights:',

        // Update
        legal_update: 'Last updated:',
        legal_updateDate: 'January 2025',

        // 🔥 NOUVELLES TRADUCTIONS
        legal_editor_name: "Name:",
        legal_contact_form: "Form:",
        legal_contact_formLink: "Contact page",
        legal_editor_nameValue: "Fatema AL Waisi", // 🔥 NOUVEAU

    },

    ar: {
        // Navigation
        nav_home: 'الرئيسية',
        nav_gallery: 'المعرض',
        nav_exhibitions: 'المعارض',
        nav_about: 'نبذة',
        nav_contact: 'اتصال',
        nav_subtitle: 'فنانة تشكيلية',

        // Hero
        legal_title: 'الإشعار القانوني',
        legal_subtitle: 'المعلومات القانونية وحماية الحقوق',

        // Publisher
        legal_editor_title: 'ناشر الموقع',
        legal_editor_activity: 'النشاط:',
        legal_editor_activityValue: 'فنانة تشكيلية - مبدعة أعمال فنية',
        legal_editor_email: 'البريد الإلكتروني:',
        legal_editor_location: 'الموقع:',
        legal_editor_locationValue: 'فرنسا',

        // Hosting
        legal_hosting_title: 'الاستضافة',
        legal_hosting_host: 'المضيف:',
        legal_hosting_address: 'العنوان:',

        // Intellectual Property
        legal_ip_title: 'الملكية الفكرية',
        legal_ip_text: 'جميع المحتويات على هذا الموقع (النصوص، صور الأعمال الفنية، الصور، الشعارات، مقاطع الفيديو) هي ملكية حصرية لفاطمة الويسي ما لم يُذكر خلاف ذلك.',
        legal_ip_rights: 'الأعمال الفنية المعروضة محمية بموجب قوانين حقوق النشر الدولية.',
        legal_ip_prohibition: 'يُحظر تمامًا أي استنساخ أو توزيع أو تعديل أو استخدام تجاري دون إذن كتابي مسبق.',
        legal_ip_viewing: 'يُسمح بمشاهدة الأعمال الفنية على هذا الموقع لأغراض شخصية وغير تجارية فقط.',
        legal_ip_contact: 'لأي استخدام آخر (صحافة، نشر، معرض، استنساخ)، يرجى الاتصال بالفنانة عبر البريد الإلكتروني:',

        // Cookies
        legal_cookies_title: 'ملفات تعريف الارتباط والبيانات الشخصية',
        legal_cookies_text: 'يستخدم هذا الموقع ملفات تعريف ارتباط تقنية ضرورية بشكل صارم لتحسين تجربة التصفح الخاصة بك.',
        legal_cookies_types: 'أنواع ملفات تعريف الارتباط المستخدمة:',
        legal_cookies_pref: 'ملفات تعريف ارتباط تفضيل اللغة',
        legal_cookies_tech: 'ملفات تعريف ارتباط التنقل التقني',
        legal_cookies_notrack: 'لا يتم استخدام ملفات تعريف ارتباط التتبع الإعلاني أو التحليلي.',
        legal_cookies_control: 'يمكنك التحكم في ملفات تعريف الارتباط وحذفها من خلال إعدادات المتصفح الخاص بك.',

        // Liability
        legal_liability_title: 'تحديد المسؤولية',
        legal_liability_text: 'تبذل فاطمة الويسي قصارى جهدها لتوفير معلومات دقيقة ومحدثة. ومع ذلك، لا يمكنها ضمان دقة أو صحة أو اكتمال المعلومات المتاحة على هذا الموقع.',
        legal_liability_noguarantee: 'لا يمكن تحميل الفنانة المسؤولية عن الأضرار المباشرة أو غير المباشرة الناتجة عن الوصول إلى الموقع أو استخدام المعلومات التي يحتوي عليها.',

        // External Links
        legal_links_title: 'الروابط التشعبية',
        legal_links_text: 'قد يحتوي الموقع على روابط لمواقع خارجية. فاطمة الويسي ليس لديها سيطرة على هذه المواقع وتخلي مسؤوليتها عن محتواها.',

        // Contact
        legal_contact_title: 'اتصال',
        legal_contact_question: 'لأي أسئلة بخصوص هذه الإشعارات القانونية أو لممارسة حقوقك:',

        // Update
        legal_update: 'آخر تحديث:',
        legal_updateDate: 'يناير 2025',

        // 🔥 NOUVELLES TRADUCTIONS
        legal_editor_name: "الاسم:",
        legal_contact_form: "نموذج:",
        legal_contact_formLink: "صفحة الاتصال",
        legal_editor_nameValue: "فاطمة الويسي", // 🔥 NOUVEAU

    }
};

// ===== EXPOSER GLOBALEMENT =====
window.mentionsTranslations = mentionsTranslations;

// ===== ANIMATION D'APPARITION =====
function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    document.querySelectorAll('.legal-section').forEach(section => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(20px)';
        section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(section);
    });
}

// 🎨 Fonction pour mettre le nom de l'artiste en gras + marron
function highlightArtistName() {
    const currentLang = document.documentElement.lang || 'fr';

    const artistNames = {
        'fr': 'Fatema AL Waisi',
        'en': 'Fatema AL Waisi',
        'ar': 'فاطمة الويسي'
    };

    const nameToHighlight = artistNames[currentLang];
    const legalTexts = document.querySelectorAll('.legal-text p, .legal-text li');

    legalTexts.forEach(element => {
        // Éviter de re-traiter si déjà fait
        if (element.querySelector('.artist-name')) return;

        if (element.innerHTML.includes(nameToHighlight)) {
            const regex = new RegExp(`(${nameToHighlight})`, 'g');
            element.innerHTML = element.innerHTML.replace(
                regex, 
                '<strong class="artist-name">$1</strong>'
            );
        }
    });
}

// 🔄 Observer les changements de langue
const langObserver = new MutationObserver((mutations) => {
    mutations.forEach((mutation) => {
        if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
            setTimeout(highlightArtistName, 200);
        }
    });
});

// ===== INITIALISATION =====
document.addEventListener('DOMContentLoaded', () => {
    // Première application du highlight
    setTimeout(highlightArtistName, 500);

    // Observer les changements d'attribut lang
    langObserver.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['lang']
    });

    // Attendre que main.js charge et traduise
    setTimeout(() => {
        const currentLang = localStorage.getItem('selectedLanguage') || 'fr';

        // Si main.js n'a pas encore traduit, forcer
        if (typeof changeLanguage === 'function') {
            changeLanguage(currentLang);
        }

        // Activer les animations
        initScrollAnimations();
    }, 600);
});

// ===== ÉCOUTER LES CHANGEMENTS DE LANGUE =====
window.addEventListener('languageChanged', (e) => {
    // Réappliquer le highlight après changement de langue
    setTimeout(highlightArtistName, 200);
});

